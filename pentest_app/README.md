# Outil de Test de Pénétration

## Structure du projet

```
pentest_app/
├── main.py
├── pentest_app/
│   ├── __init__.py
│   ├── reconnaissance/
│   │   ├── __init__.py
│   │   ├── scan_port.py
│   │   ├── scan_icmp.py
│   │   └── service_version.py
│   ├── bruteforce/
│   │   ├── __init__.py
│   │   ├── permutation.py
│   │   └── dictionnaire.py
│   ├── vulnerabilite/
│   │   ├── __init__.py
│   │   ├── detection_failles.py
│   │   ├── detection_port.py
│   │   └── service_obsolete.py
│   ├── postexploitation/
│   │   ├── __init__.py
│   │   ├── analyse_reseau.py
│   │   ├── dump_session.py
│   │   └── exploration_reseau.py
```

## Modules et fonctionnalités

### Reconnaissance réseau (nmap, scapy)
- scan_port.py : scan de port
- scan_icmp.py : scan ICMP
- service_version.py : détection de service et version

### Brute force d'authentification (hydra)
- permutation.py : attaque par permutation
- dictionnaire.py : attaque par dictionnaire

### Vulnérabilité système (nessus, nikto)
- detection_failles.py : détection des failles sur CVE
- detection_port.py : détection de port/services non sécurisés
- service_obsolete.py : détection de services obsolètes ou vulnérables

### Post exploitation (suricata, metasploit)
- analyse_reseau.py : analyse du réseau interne
- dump_session.py : dump de session
- exploration_reseau.py : exploration du réseau interne

## Dépendances
Python (requirements.txt):
- flask, flask-socketio, eventlet
- scapy
- requests
- paramiko

Outils externes (optionnels selon les tests):
- nmap, hydra, nikto, suricata, metasploit-framework
- (Optionnel) Nessus pour l'API (voir variables d'environnement)

## Installation et exécution (Kali Linux)
1. Installer les paquets système:
	- sudo apt update
	- sudo apt install -y nmap hydra nikto suricata metasploit-framework python3-venv python3-pip

2. Créer et activer un venv, puis installer les libs Python:
	- python3 -m venv .venv
	- source .venv/bin/activate
	- pip install --upgrade pip setuptools wheel
	- pip install -r requirements.txt

3. Variables d’environnement (si utilisation de Nessus):
	- export NESSUS_URL=https://localhost:8834
	- export NESSUS_ACCESS_KEY=...  (clé d’accès)
	- export NESSUS_SECRET_KEY=...  (clé secrète)

4. Lancer l’interface graphique (recommandé en root pour Scapy):
	- sudo -E env PATH=$PATH NESSUS_URL=$NESSUS_URL NESSUS_ACCESS_KEY=$NESSUS_ACCESS_KEY NESSUS_SECRET_KEY=$NESSUS_SECRET_KEY \
	  python3 pentest_app_gui/app.py

5. Ouvrir le navigateur: http://localhost:5050

Notes:
- Scapy requiert souvent les privilèges root pour envoyer des paquets bruts.
- Les tests utilisant des binaires externes exigent que ces binaires soient accessibles dans le PATH.
- Le bouton Stop arrête proprement les tests coopératifs (scan ports scapy, brute force paramiko, etc.).

## Mode console
Vous pouvez également lancer les modules en console via `main.py` si présent (non prioritaire par rapport à la GUI).
